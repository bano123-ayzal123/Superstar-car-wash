import{a as w}from"./chunk-GVHLSQCX.js";import{f as v,g as _}from"./chunk-ICGTVVQE.js";import{a as y,b as l,c as C,d as P,g as S,h as x,i as M,n as L,o as N}from"./chunk-4HTLEQ63.js";import{Ia as p,Ka as m,Na as e,Oa as n,Pa as u,Ta as g,X as s,Z as f,Za as t,cb as h,sa as a,ub as b}from"./chunk-HGG7PMT7.js";function E(r,O){r&1&&(e(0,"small"),t(1,"Valid email is required"),n())}function F(r,O){r&1&&(e(0,"small"),t(1,"Min 6 characters"),n())}var z=(()=>{class r{constructor(){this.fb=s(L),this.auth=s(w),this.router=s(v),this.form=this.fb.group({email:["",[l.required,l.email]],password:["",[l.required,l.minLength(6)]]})}submit(){if(this.form.invalid)return;let{email:d,password:o}=this.form.value;this.auth.login(d,o).subscribe(()=>{let c=new URL(location.href).searchParams.get("redirect")||"/";this.router.navigateByUrl(c)})}static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275cmp=f({type:r,selectors:[["app-login"]],standalone:!0,features:[h],decls:19,vars:4,consts:[[1,"auth-wrap"],[1,"card"],[3,"ngSubmit","formGroup"],["type","email","formControlName","email","placeholder","you@example.com"],[4,"ngIf"],["type","password","formControlName","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"],["type","submit",1,"btn-primary",3,"disabled"],[1,"muted"],["routerLink","/register"]],template:function(o,i){o&1&&(e(0,"section",0)(1,"div",1)(2,"h2"),t(3,"Login"),n(),e(4,"form",2),g("ngSubmit",function(){return i.submit()}),e(5,"label"),t(6,"Email"),n(),u(7,"input",3),p(8,E,2,0,"small",4),e(9,"label"),t(10,"Password"),n(),u(11,"input",5),p(12,F,2,0,"small",4),e(13,"button",6),t(14,"Login"),n()(),e(15,"p",7),t(16,"New here? "),e(17,"a",8),t(18,"Create an account"),n()()()()),o&2&&(a(4),m("formGroup",i.form),a(4),m("ngIf",i.form.controls.email.touched&&i.form.controls.email.invalid),a(4),m("ngIf",i.form.controls.password.touched&&i.form.controls.password.invalid),a(),m("disabled",i.form.invalid))},dependencies:[N,S,y,C,P,x,M,_,b],styles:[".auth-wrap[_ngcontent-%COMP%]{display:grid;place-items:center;min-height:70vh;padding:2rem}.card[_ngcontent-%COMP%]{width:min(520px,92vw);background:#fff;border-radius:16px;padding:2rem;box-shadow:0 14px 38px #0000001f}h2[_ngcontent-%COMP%]{margin:0 0 1rem;font-weight:800}form[_ngcontent-%COMP%]{display:grid;gap:.8rem}label[_ngcontent-%COMP%]{font-size:.9rem;color:#333}input[_ngcontent-%COMP%]{padding:.75rem .9rem;border:1px solid #e3e5e8;border-radius:10px;font-size:1rem}small[_ngcontent-%COMP%]{color:#d33}.btn-primary[_ngcontent-%COMP%]{margin-top:.6rem;border:0;border-radius:999px;padding:.8rem 1rem;background:#0d6efd;color:#fff;font-weight:700;cursor:pointer}.muted[_ngcontent-%COMP%]{margin-top:1rem;color:#666}"]})}}return r})();export{z as default};
